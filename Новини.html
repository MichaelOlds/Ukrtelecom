<!DOCTYPE html>
<html lang="uk">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>–ù–æ–≤–∏–Ω–∏</title>
  <link rel="icon" href="images/ukrtelecom.png" type="image/png">
  
  <!-- SEO -->
  <meta property="og:url" content="https://—É–∫—Ä—Ç–µ–ª–µ–∫–æ–º.pp.ua/–ù–æ–≤–∏–Ω–∏">
  <meta property="og:image" content="images/poster-news.png">
  <meta property="og:site_name" content="–£–∫—Ä—Ç–µ–ª–µ–∫–æ–º">
  <meta property="og:title" content="üî• –ù–æ–≤–∏–Ω–∏, –∞—Ü–∫—ñ—ó —Ç–∞ –∑–º—ñ–Ω–∏.">
  <meta name="description" content="üî• –ù–æ–≤–∏–Ω–∏, –∞–∫—Ü—ñ—ó —Ç–∞ –∑–º—ñ–Ω–∏." />
<meta name="keywords" content="–ù–æ–≤–∏–Ω–∏ –£–∫—Ä—Ç–µ–ª–µ–∫–æ–º, –ê–∫—Ü—ñ—ó –£–∫—Ä—Ç–µ–ª–µ–∫–æ–º, –ó–º—ñ–Ω–∏ –£–∫—Ä—Ç–µ–ª–µ–∫–æ–º, –£–∫—Ä—Ç–µ–ª–µ–∫–æ–º, —É–∫—Ä—Ç–µ–ª–µ–∫–æ–º, –£–∫—Ä—Ç–µ–ª–µ–∫–æ–º –ó–∞–∫–∞—Ä–ø–∞—Ç—Ç—è, —É–∫—Ä—Ç–µ–ª–µ–∫–æ–º –∑–∞–∫–∞—Ä–ø–∞—Ç—Ç—è, –Ü–Ω—Ç–µ—Ä–Ω–µ—Ç –¢–µ—Ä–µ—Å–≤–∞, –Ü–Ω—Ç–µ—Ä–Ω–µ—Ç –ë–µ–¥–µ–≤–ª—è, –Ü–Ω—Ç–µ—Ä–Ω–µ—Ç –¢—è—á—ñ–≤, –Ü–Ω—Ç–µ—Ä–Ω–µ—Ç –ë—É—à—Ç–∏–Ω–æ, –Ü–Ω—Ç–µ—Ä–Ω–µ—Ç –ö–æ–ª–æ—á–∞–≤–∞, –Ü–Ω—Ç–µ—Ä–µ–Ω–µ—Ç –°–æ–ª–æ—Ç–≤–∏–Ω–æ, –Ü–Ω—Ç–µ—Ä–Ω–µ—Ç –°–∏–Ω–µ–≤–∏—Ä, –Ü–Ω—Ç–µ—Ä–Ω–µ—Ç –¢–∞—Ä–∞—Å—ñ–≤–∫–∞, –Ü–Ω—Ç–µ—Ä–Ω–µ—Ç –ù–µ–≥—Ä–æ–≤–µ—Ü—å, –Ü–Ω—Ç–µ—Ä–Ω–µ—Ç –ì–ª–∏–Ω—è–Ω–∏–π, –Ü–Ω—Ç–µ—Ä–Ω–µ—Ç –•—É—Å—Ç, –û–ø—Ç–∏—á–Ω–∏–π —ñ–Ω—Ç–µ—Ä–Ω–µ—Ç, –®–≤–∏–¥–∫—ñ—Å–Ω–∏–π —ñ–Ω—Ç–µ—Ä–Ω–µ—Ç, –ó–∞–∫–∞—Ä–ø–∞—Ç—Ç—è, –¢–µ—Ä–µ—Å–≤–∞, –ë–µ–¥–µ–≤–ª—è, –¢—è—á—ñ–≤, –ë—É—à—Ç–∏–Ω–æ, –°–æ–ª–æ—Ç–≤–∏–Ω–æ, –°–∏–Ω–µ–≤–∏—Ä, –ù–µ–≥—Ä–æ–≤–µ—Ü—å, –ì–ª–∏–Ω—è–Ω–∏–π, –¢–∞—Ä–∞—Å—ñ–≤–∫–∞, –ö–æ–ª–æ—á–∞–≤–∞, –•—É—Å—Ç, –£–∂–≥–æ—Ä–æ–¥" />
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700&display=swap" rel="stylesheet">
  <style>
    body { margin:0; font-family:'Poppins',sans-serif; background:#f9f9f9; }
    header {
      position:sticky; top:0; z-index:1000; background-color:#fff;
      display:flex; justify-content:space-between; align-items:center;
      padding:15px 30px; box-shadow:0 2px 4px rgba(0,0,0,0.05);
    }
    header img { height:36px; }
    .menu-icon { width:28px; height:28px; cursor:pointer; }
    .menu {
      position:fixed; top:66px; left:0; right:0; background-color:#fff;
      box-shadow:0 4px 8px rgba(0,0,0,0.1); display:none; flex-direction:column;
      align-items:center;
    }
    .menu.active { display:flex; }
    .menu a {
      padding:12px 20px; text-decoration:none; color:#333; font-weight:500;
      width:100%; text-align:center; border-bottom:1px solid #eee;
    }
    .menu a:hover { background-color:#f5f5f5; }

    .desktop-menu { display:none; gap:20px; }
    .desktop-menu a {
      text-decoration:none; color:#333; font-weight:500; font-size:16px;
      transition:color .3s;
    }
    .desktop-menu a:hover { color:#0077cc; }

    @media(min-width:768px){
      .desktop-menu{ display:flex; }
      .menu-icon{ display:none; }
      .menu{ display:none !important; }
    }

    #news-container, #news-detail {
      max-width:1200px; margin:40px auto; padding:0 20px;
    }

    .news-grid { display:grid; grid-template-columns:1fr; gap:40px; }
    @media(min-width:768px){ .news-grid{ grid-template-columns:1fr 1fr; } }
    @media(min-width:1024px){ .news-grid{ grid-template-columns:1fr 1fr 1fr; } }

    .news-item { background-color:transparent; }
    .news-poster {
      width:100%; display:block; box-shadow:0 4px 12px rgba(0,0,0,0.2); border-radius:12px;
    }
    .news-text {
      font-size:18px; margin:16px 0 10px; color:#333; padding:0 3px;
    }
    .news-date {
      font-size:14px; color:#777; margin-bottom:10px; padding:0 3px; margin-top:-6px;
    }

    .read-more {
      display:inline-block; margin-left:3px; margin-bottom:10px; padding:5px 12px;
      background-color:transparent; color:#000; text-decoration:none; border:1.5px solid #000;
      border-radius:6px; font-size:13px; font-weight:500; cursor:pointer;
      transition:background-color .3s, color .3s;
    }
    .read-more:hover { background-color:#000; color:#fff; }

    #news-detail { display:none; }
    .news-description {
      font-size:16px; line-height:1.6; padding:0 3px; margin-bottom:20px; white-space:pre-wrap;
    }
    .news-description a {
      color: #000;
      text-decoration: underline;
    }
    .back-button {
      display:inline-block; margin-left:3px; padding:8px 12px; background-color:transparent;
      color:#000; text-decoration:none; border:1.5px solid #000; border-radius:6px;
      font-size:13px; font-weight:500; cursor:pointer;
    }
    .back-button:hover { background-color:#000; color:#fff; }
  </style>
</head>
<body>

  <header>
    <img src="https://ukrtelecom.store/img/logo.png" alt="–õ–æ–≥–æ—Ç–∏–ø">
    <nav class="desktop-menu">
      <a href="https://—É–∫—Ä—Ç–µ–ª–µ–∫–æ–º.pp.ua">–ì–æ–ª–æ–≤–Ω–∞</a>
      <a href="–ù–æ–≤–∏–Ω–∏">–ù–æ–≤–∏–Ω–∏</a>
      <a href="https://ukrtelecom.ua/payment/generate-bill">–û–ø–ª–∞—Ç–∞</a>
      <a href="–ö–∞–±—ñ–Ω–µ—Ç">–ö–∞–±—ñ–Ω–µ—Ç</a>
      <a href="–ö–æ–Ω—Ç–∞–∫—Ç–∏">–ö–æ–Ω—Ç–∞–∫—Ç–∏</a>
    </nav>
    <img src="https://www.svgrepo.com/show/311018/navigation.svg" alt="–ú–µ–Ω—é" class="menu-icon" id="menuToggle">
  </header>

  <div class="menu" id="menu">
    <a href="https://—É–∫—Ä—Ç–µ–ª–µ–∫–æ–º.pp.ua">–ì–æ–ª–æ–≤–Ω–∞</a>
    <a href="–ù–æ–≤–∏–Ω–∏">–ù–æ–≤–∏–Ω–∏</a>
    <a href="https://ukrtelecom.ua/payment/generate-bill">–û–ø–ª–∞—Ç–∞</a>
    <a href="–ö–∞–±—ñ–Ω–µ—Ç">–ö–∞–±—ñ–Ω–µ—Ç</a>
    <a href="–ö–æ–Ω—Ç–∞–∫—Ç–∏">–ö–æ–Ω—Ç–∞–∫—Ç–∏</a>
  </div>

  <div id="news-container">
    <div class="news-grid" id="news-grid"></div>
  </div>

  <div id="news-detail"></div>

  <script>
    const menuToggle = document.getElementById('menuToggle');
    const menu = document.getElementById('menu');
    let menuOpen = false;
    menuToggle.addEventListener('click', () => {
      menuOpen = !menuOpen;
      menu.classList.toggle('active');
      menuToggle.src = menuOpen ? 'https://www.svgrepo.com/show/440627/navigationclose.svg' : 'https://www.svgrepo.com/show/311018/navigation.svg';
    });

    let newsData = [];

    window.onload = () => {
      fetch('news.json?v=' + Date.now())
        .then(r => r.json())
        .then(data => { newsData = data; renderNewsList(); })
        .catch(err => {
          console.error('–ü–æ–º–∏–ª–∫–∞ –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è news.json', err);
          document.getElementById('news-grid').innerHTML = '<p>–ù–µ –≤–¥–∞–ª–æ—Å—å –∑–∞–≤–∞–Ω—Ç–∞–∂–∏—Ç–∏ –Ω–æ–≤–∏–Ω–∏.</p>';
        });
    };

    function escapeHtml(str) {
      return String(str)
        .replace(/&/g, '&amp;')
        .replace(/</g, '&lt;')
        .replace(/>/g, '&gt;')
        .replace(/"/g, '&quot;')
        .replace(/'/g, '&#39;');
    }

    function escapeAttr(str) {
      return String(str).replace(/"/g, '&quot;').replace(/'/g, '&#39;');
    }

    function renderNewsList() {
      const grid = document.getElementById('news-grid');
      const detail = document.getElementById('news-detail');
      grid.innerHTML = '';
      detail.style.display = 'none';
      document.getElementById('news-container').style.display = 'block';

      newsData.forEach(item => {
        const id = item.id || '';
        const poster = item.poster ? item.poster : '';
        const text = item.text || '';
        const date = item.date || '';

        const newsBlock = document.createElement('div');
        newsBlock.className = 'news-item';
        newsBlock.innerHTML = `
          <img src="${escapeAttr(poster)}" alt="–ü–æ—Å—Ç–µ—Ä" class="news-poster" onerror="this.src='https://via.placeholder.com/600x400?text=–ó–æ–±—Ä–∞–∂–µ–Ω–Ω—è+–Ω–µ–¥–æ—Å—Ç—É–ø–Ω–µ'">
          <div class="news-text">${escapeHtml(text)}</div>
          <div class="news-date">${escapeHtml(date)}</div>
          <button class="read-more" onclick="showDetail('${escapeAttr(id)}')">–ß–∏—Ç–∞—Ç–∏ –¥–∞–ª—ñ ‚Üí</button>
        `;
        grid.appendChild(newsBlock);
      });
    }

    function formatDescription(raw) {
      if (raw === null || raw === undefined) return '';
      const s = String(raw);
      const parts = [];
      let buf = '';
      let inBraces = false;
      for (let i = 0; i < s.length; i++) {
        const ch = s[i];
        if (ch === '{') {
          inBraces = true;
          buf += ch;
        } else if (ch === '}') {
          inBraces = false;
          buf += ch;
        } else if (ch === '/' && !inBraces) {
          parts.push(buf);
          buf = '';
        } else {
          buf += ch;
        }
      }
      parts.push(buf);

      const out = parts.map(part => {
        const trimmed = part.trim();
        if (!trimmed) return '';
        // –ó–∞–º—ñ–Ω–∞ –≤—Å—ñ—Ö –≤—Ö–æ–¥–∂–µ–Ω—å url={Text}+{URL}
        const replaced = trimmed.replace(/url=\{([^}]+)\}\+\{([^}]+)\}/g, (m, text, url) => {
          const safeText = escapeHtml(text.trim());
          let safeUrl = url.trim();
          try { safeUrl = encodeURI(safeUrl); } catch (e) {}
          return `<a href="${safeUrl}" target="_blank" rel="noopener noreferrer">${safeText}</a>`;
        });

        // –ó–∞—Ö–∏—â–∞—î–º–æ —ñ–Ω—à–∏–π —Ç–µ–∫—Å—Ç, –∑–∞–ª–∏—à–∞—é—á–∏ <a> —Ç–µ–≥–∏ –Ω–µ–∑–º—ñ–Ω–Ω–∏–º–∏
        const fragRegex = /(<a [^>]*>.*?<\/a>)/g;
        return replaced.split(fragRegex).map(f => {
          if (!f) return '';
          return fragRegex.test(f) ? f : escapeHtml(f);
        }).join('');
      }).filter(Boolean);

      return out.join('<br><br>');
    }

    function showDetail(id) {
      const item = newsData.find(n => String(n.id) === String(id));
      if (!item) return;
      const container = document.getElementById('news-container');
      const detail = document.getElementById('news-detail');
      container.style.display = 'none';
      detail.style.display = 'block';

      const poster = item.poster ? item.poster : '';
      const formattedDescription = formatDescription(item.description || '');

      detail.innerHTML = `
        <img src="${escapeAttr(poster)}" alt="–ü–æ—Å—Ç–µ—Ä" class="news-poster" onerror="this.src='https://via.placeholder.com/600x400?text=–ó–æ–±—Ä–∞–∂–µ–Ω–Ω—è+–Ω–µ–¥–æ—Å—Ç—É–ø–Ω–µ'">
        <div class="news-text">${escapeHtml(item.text || '')}</div>
        <div class="news-date">${escapeHtml(item.date || '')}</div>
        <div class="news-description">${formattedDescription}</div>
        <button class="back-button" onclick="renderNewsList()">‚Üê –ù–∞–∑–∞–¥</button>
      `;
    }
  </script>
</body>
</html>